# ì‹¤í–‰ì»¨í…ìŠ¤íŠ¸ (execution context)

## â­ï¸ ì •ì˜

**ì½”ë“œì˜ ì‹¤í–‰í™˜ê²½ì— ëŒ€í•œ ì—¬ëŸ¬ê°€ì§€ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ” ê°œë…**Â ìœ¼ë¡œ, ê°„ë‹¨íˆ ë§í•˜ìë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì— ì˜í•´ ë§Œë“¤ì–´ì§€ê³  ì‚¬ìš©ë˜ëŠ” ì½”ë“œ ì •ë³´ë¥¼ ë‹´ì€ ê°ì²´ì˜ ì§‘í•©ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.

> ì½”ì–´ ìë°”ìŠ¤í¬ë¦½íŠ¸ğŸ”¥
> ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸(execution context)ëŠ” ì‹¤í–‰í•  ì½”ë“œì— ì œê³µí•  í™˜ê²½ ì •ë³´ë“¤ì„
> ëª¨ì•„ë†“ì€ ê°ì²´ë¡œ, ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë™ì  ì–¸ì–´ë¡œì„œì˜ ì„±ê²©ì„ ê°€ì¥ ì˜ íŒŒì•…í•  ìˆ˜ ìˆëŠ” ê°œë…ì´ë‹¤.

## â­ï¸ ì¢…ë¥˜

ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì½”ë“œëŠ” 3ê°€ì§€ ì¢…ë¥˜ë¡œ ì´ë£¨ì–´ì§€ëŠ”ë°,**ê¸€ë¡œë²Œ ìŠ¤ì½”í”„**ì—ì„œ ì‹¤í–‰í•˜ëŠ” **ê¸€ë¡œë²Œ ì½”ë“œ**, **í•¨ìˆ˜ ìŠ¤ì½”í”„**ì—ì„œ ì‹¤í–‰í•˜ëŠ” **í•¨ìˆ˜ ì½”ë“œ** ê·¸ë¦¬ê³  ì—¬ê¸°ì„œ ë‹¤ë£¨ì§„ ì•Šì§€ë§ŒÂ `eval()`Â ë¡œ ì‹¤í–‰ë˜ëŠ” ì½”ë“œê°€ ìˆë‹¤. ì´ ê°ê°ì˜ ì½”ë“œëŠ” ìì‹ ë§Œì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±í•œë‹¤.

> "eval is evil" - Douglas Crockford
> eval í•¨ìˆ˜ëŠ” ë¬¸ìì—´ë¡œ ëœ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì „ë‹¬í•˜ë©´ ê·¸ëŒ€ë¡œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ì¸ë°, ì†ë„ë‚˜ ë³´ì•ˆì´ ì¢‹ì§€ ì•Šì•„ í˜„ì¬ëŠ” ê±°ì˜ ì“°ì§€ ì•ŠëŠ”ë‹¤

ì—”ì§„ì´ ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ì‹¤í–‰í•˜ê¸° ì „ì—Â **ê¸€ë¡œë²Œ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸(Global Execution Context, GEC)**Â ê°€ ìƒì„±ë˜ê³ ,
í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤Â **í•¨ìˆ˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸(Function Execution Context, FEC)**Â ê°€ ìƒì„±ëœë‹¤.
ì£¼ì˜í•  ì ì€, ê¸€ë¡œë²Œì˜ ê²½ìš° ì‹¤í–‰ ì´ì „ì— ìƒì„±ë˜ì§€ë§Œ í•¨ìˆ˜ì˜ ê²½ìš° í˜¸ì¶œí•  ë•Œ ìƒì„±ëœë‹¤ëŠ” ì 

ë”°ë¼ì„œ ìë™ìœ¼ë¡œ ìƒì„±ë˜ëŠ” ì „ì—­ê³µê°„ê³¼ evalì„ ì œì™¸í•˜ë©´, **ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ìƒì„±ë˜ëŠ” ì‹œì ì€ ê³§ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ì‹œì **ì´ë‹¤.

## â­ï¸ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìŠ¤íƒ (Execution Context Stack)

![](https://velog.velcdn.com/images%2Fggong%2Fpost%2F899a0b06-c594-43e0-9a0e-7a41bead87ca%2F%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-06-01%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%209.48.10.png)

ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ìƒì„±ë˜ë©´ í”íˆ ì½œ ìŠ¤íƒ(Call Stack)ì´ë¼ê³ ë„ ë¶ˆë¦¬ëŠ” ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ìŠ¤íƒì— ìŒ“ì´ê²Œ ëœë‹¤.
`GEC`ëŠ” ì½”ë“œë¥¼ ì‹¤í–‰í•˜ê¸° ì „ì— ìŒ“ì´ê³  ëª¨ë“  ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì œê±°ëœë‹¤. `FEC`ëŠ” **í˜¸ì¶œ**í•  ë•Œ ìŒ“ì´ê³  **í˜¸ì¶œ**ì´ ëë‚˜ë©´ ì œê±°ëœë‹¤.

### ë™ì‘ê³¼ì •

1. ì²˜ìŒ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ìˆœê°„ `ì „ì—­ ì»¨í…ìŠ¤íŠ¸`ê°€ ì½œ ìŠ¤íƒì— ë‹´ê¸´ë‹¤.
   ìµœìƒë‹¨ì˜ ê³µê°„ì€ ì½”ë“œ ë‚´ë¶€ì—ì„œ ë³„ë„ì˜ **ì‹¤í–‰ ëª…ë ¹ì´ ì—†ì–´ë„ ë¸Œë¼ìš°ì €ì—ì„œ ìë™ìœ¼ë¡œ ì‹¤í–‰**í•˜ë¯€ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë˜ëŠ” ìˆœê°„ `ì „ì—­ ì»¨í…ìŠ¤íŠ¸`ëŠ” í™œì„±í™”ëœë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.
   `ì „ì—­ ì»¨í…ìŠ¤íŠ¸`ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¢…ë£Œë  ë•Œ(ì›¹ í˜ì´ì§€ì—ì„œ ë‚˜ê°€ê±°ë‚˜ ë¸Œë¼ìš°ì €ë¥¼ ë‹«ì„ ë•Œ)ê¹Œì§€ ìœ ì§€ëœë‹¤.

2. `foo()` í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ë©´, ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” `foo()` í•¨ìˆ˜ì— ëŒ€í•œ í™˜ê²½ ì •ë³´ë¥¼ ìˆ˜ì§‘í•´ì„œ ìƒˆë¡œìš´ **ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±**í•œ í›„, ì „ì—­ ì»¨í…ìŠ¤íŠ¸ ìœ„ì— ìŒ“ëŠ”ë‹¤.

3. `foo()` í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë‹¤ê°€ ë‚´ë¶€ í•¨ìˆ˜ `bar()`ë¥¼ ë§Œë‚˜ë©´, ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” `bar()` í•¨ìˆ˜ì˜ **ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë¥¼ ìƒì„±**í•œë‹¤. ì´ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” ìŠ¤íƒì˜ ìµœìƒë‹¨ì— ìŒ“ì¸ë‹¤.

4. ìµœìƒë‹¨ì— ìŒ“ì¸` bar()` í•¨ìˆ˜ê°€ ì‹¤í–‰ì„ ì¢…ë£Œí•˜ë©´ `bar()` í•¨ìˆ˜ì— ì˜í•´ ë§Œë“¤ì–´ì§„ **ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” ì½œ ìŠ¤íƒì—ì„œ ì œê±°**ëœë‹¤.

5. `foo()` í•¨ìˆ˜ê°€ ì‹¤í–‰ì„ ì¢…ë£Œí•˜ë©´ `foo()` í•¨ìˆ˜ì— ì˜í•´ ë§Œë“¤ì–´ì§„ **ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” ì½œ ìŠ¤íƒì—ì„œ ì œê±°**ëœë‹¤.

ìŠ¤íƒ êµ¬ì¡°ë¥¼ ìƒê°í•´ë³´ë©´, í•œ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì½œ ìŠ¤íƒì˜ ë§¨ ìœ„ì— ìŒ“ì´ëŠ” ìˆœê°„ì´ ê³§ í˜„ì¬ ì‹¤í–‰í•  ì½”ë“œì— ê´€ì—¬í•˜ê²Œ ë˜ëŠ” ì‹œì ì„

## â­ï¸ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ êµ¬ì„±

ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì„±ìš”ì†Œë¥¼ ê°–ëŠ”ë‹¤.

![](https://velog.velcdn.com/images%2Fggong%2Fpost%2F9199d986-67ea-497b-9259-0351b10b3a7c%2F%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-06-01%20%E1%84%8B%E1%85%A9%E1%84%92%E1%85%AE%2010.18.29.png)

**VariableEnvironment** : í˜„ì¬ ì»¨í…ìŠ¤íŠ¸ ë‚´ì˜ ì‹ë³„ìë“¤ì— ëŒ€í•œ ì •ë³´ + ì™¸ë¶€ í™˜ê²½ ì •ë³´. **ì„ ì–¸ ì‹œì **ì˜ `LexicalEnvironment`ì˜ ìŠ¤ëƒ…ìƒ·ìœ¼ë¡œ, ë³€ê²½ì‚¬í•­ì€ ë°˜ì˜ë˜ì§€ ì•ŠìŒ
â—¦ environmentRecord
â—¦ outer-EnvironmentReference

**LexicalEnvironment** : ì²˜ìŒì—ëŠ” VariableEnvironmentì™€ ê°™ì§€ë§Œ **ë³€ê²½ì‚¬í•­ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜**ë¨
â—¦ environmentRecord
â—¦ outer-EnvironmentReference

**ThisBinding** : this ì‹ë³„ìê°€ ë°”ë¼ë³´ê³  ìˆëŠ” ëŒ€ìƒ ê°ì²´

### âœ¨ Lexical Environment , VariableEnvironment

**Variable Environment** ì™€ **Lexical Environment** ëŠ” ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ë³€ìˆ˜ì˜ ì°¸ì¡°ë“¤ì„ ê¸°ì–µí•˜ëŠ” í™˜ê²½,
**Variable Environment** ì»¨í…ìŠ¤íŠ¸ ìµœì´ˆ ì‹¤í–‰ ì‹œì ì˜ ìŠ¤ëƒ…ìƒ·ì„ ìœ ì§€í•˜ëŠ” ë°˜ë©´, **Lexical Environment**ì—ëŠ” ë³€ê²½ì‚¬í•­ì´ ë°˜ì˜ëœë‹¤ëŠ” ê²ƒ

**Variable Environment**ëŠ” **Lexical Environment**ì™€ ë™ì¼í•œ ì„±ê²©ì„ ë ì§€ë§Œ,
`var`Â ë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ë§Œ ì €ì¥í•œë‹¤ëŠ” ì ì—ì„œ ë‹¤ë¥´ë‹¤.Â ì¦‰, `Lexical Environment`ëŠ”Â `var`Â ë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ë¥¼ ì œì™¸í•˜ê³  ë‚˜ë¨¸ì§€(`let`Â ìœ¼ë¡œ ì„ ì–¸ë˜ì—ˆê±°ë‚˜ í•¨ìˆ˜ ì„ ì–¸ë¬¸)ë¥¼ ì €ì¥

#### âœ¨ **EnvironmentRecord** ì™€ **OuterEnvironmentReference**

![](https://velog.velcdn.com/images%2Fggong%2Fpost%2F59823b69-9b96-4970-9bcc-f42de3fb87bd%2F%E1%84%89%E1%85%B3%E1%84%8F%E1%85%B3%E1%84%85%E1%85%B5%E1%86%AB%E1%84%89%E1%85%A3%E1%86%BA%202021-06-02%20%E1%84%8B%E1%85%A9%E1%84%8C%E1%85%A5%E1%86%AB%2012.30.07.png)

ì´ ë‘ í™˜ê²½ì˜ ë‚´ë¶€ëŠ” ë‹¤ì‹œ **EnvironmentRecord** ì™€ **OuterEnvironmentReference** ë¡œ êµ¬ì„±

- EnvironmentRecord : ì»¨í…ìŠ¤íŠ¸ì™€ ê´€ë ¨ëœ ì½”ë“œì˜ **ì‹ë³„ì ì •ë³´**ë“¤ì´ ì €ì¥ë¨
- OuterEnvironmentReference : í˜¸ì¶œëœ í•¨ìˆ˜ê°€ ì„ ì–¸ë  ë‹¹ì‹œì˜ **Lexical Environmentë¥¼ ì°¸ì¡°í•˜ëŠ” í¬ì¸í„°**ë¡œ, ìŠ¤ì½”í”„ ì²´ì¸ì„ ê°€ëŠ¥í•˜ê²Œ í•¨

> ì‹ë³„ì ì •ë³´: ë§¤ê°œë³€ìˆ˜ ì‹ë³„ì, ì„ ì–¸ëœ í•¨ìˆ˜, varë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ì˜ ì‹ë³„ì ë“±

### âœ¨ this ë°”ì¸ë”©

thisì˜ ë°”ì¸ë”©ì€ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ìƒì„±ë  ë•Œë§ˆë‹¤ this ê°ì²´ì— ì–´ë–»ê²Œ ë°”ì¸ë”©ì´ ë˜ëŠ”ì§€ë¥¼ ë‚˜íƒ€ë‚¸ ê²ƒì´ë‹¤.

> **ES6ë¶€í„°** thisì˜ ë°”ì¸ë”©ì´ `LexicalEnvironment` ì•ˆì— ìˆëŠ” `EnvironmentRecord` ì•ˆì—ì„œ ì¼ì–´ë‚œë‹¤ëŠ” ì‚¬ì‹¤ì„ ê¸°ì–µí•´ë‘ë„ë¡ í•˜ì.

- **GECì˜ ê²½ìš°**
  - strict modeë¼ë©´Â `undefined`Â ë¡œ ë°”ì¸ë”©ëœë‹¤.
  - ì•„ë‹ˆë¼ë©´ ê¸€ë¡œë²Œ ê°ì²´ë¡œ ë°”ì¸ë”©ëœë‹¤. (ë¸Œë¼ìš°ì €ì—ì„  window, ë…¸ë“œì—ì„  global)
- **FECì˜ ê²½ìš°**
  - í•´ë‹¹ í•¨ìˆ˜ê°€ ì–´ë–»ê²Œ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ì— ë”°ë¼ ë°”ì¸ë”©ëœë‹¤.

## â­ï¸ ì‹¤í–‰ì»¨í…ìŠ¤íŠ¸ ê³¼ì • - ìš”ì•½

![0](https://velog.velcdn.com/images/dlwoxhd/post/1a472a58-68ef-48f2-86d9-ab9649f3a1db/image.png)
![1](https://velog.velcdn.com/images/dlwoxhd/post/2d60cbd7-2dea-47a8-bce9-18ef6a280554/image.png)
![2](https://velog.velcdn.com/images/dlwoxhd/post/ef99c10b-0032-47cc-8031-16102f67c025/image.png)
![3](https://velog.velcdn.com/images/dlwoxhd/post/a0eec4ed-9aab-48cf-b5a4-8128e60afbd6/image.png)
![4](https://velog.velcdn.com/images/dlwoxhd/post/0e5fbef7-33b8-4030-ac00-d46b4e05bca5/image.png)
![5](https://velog.velcdn.com/images/dlwoxhd/post/400ffff5-fd19-45ac-97d4-cb9672b7674b/image.png)

---

[ìƒí™œì½”ë”© - Exectution context](https://www.youtube.com/watch?v=QtOF0uMBy7k&t=334s&ab_channel=%EC%83%9D%ED%99%9C%EC%BD%94%EB%94%A9)
[í…Œí¬í†¡ - á„‰á…µá†¯á„’á…¢á†¼ á„á…¥á†«á„á…¦á†¨á„‰á…³á„á…³](https://www.youtube.com/watch?v=EWfujNzSUmw&ab_channel=%EC%9A%B0%EC%95%84%ED%95%9CTech)
[ì œë¡œì´ˆ - ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸](https://www.zerocho.com/category/JavaScript/post/5741d96d094da4986bc950a0)
[velog-ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ë€ ë¬´ì—‡ì¸ê°€ìš”?](https://velog.io/@edie_ko/js-execution-context)
[velog-ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ (execution context)](https://velog.io/@ggong/%EC%9E%90%EB%B0%94%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8%EC%9D%98-%EC%8B%A4%ED%96%89-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8-execution-context)

---

[ë” ê³µë¶€í•´ ë³¼ ê²ƒ - ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ ì‹¤í–‰ê³¼ì •](https://velog.io/@yejineee/%EC%8B%A4%ED%96%89-%EC%BB%A8%ED%85%8D%EC%8A%A4%ED%8A%B8%EC%9D%98-%EC%83%9D%EC%84%B1-%EA%B3%BC%EC%A0%95)
